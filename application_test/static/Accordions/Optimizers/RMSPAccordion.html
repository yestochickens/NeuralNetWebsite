<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
<script>
    $("#RMSPMethodAccordion").load("static/Accordions/Optimizers/RMSPMethodAccordion.html");
</script>

<p>
    <strong>RMSP</strong>, short for Root Mean Squared Propogation, is an optimization algorithm that improves on SGD and acted as framework for Adam. With its convergence speed and computational efficieny, it is widely used.

    Its <strong>square averages</strong> allows for adaptive learning rates, while <strong>momentum</strong> allows for smooother descent with a better chance to end in a global, rather than local minimum.
</p>
<div class="accordion-item">
    <h2 class="accordion-header" id="headingRMSPHyperparams">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRMSPHyperparams" aria-expanded="true" aria-controls="collapseRMSPHyperparams">
            Hyperparameters
        </button>
    </h2>
    <div id="collapseRMSPHyperparams" class="accordion-collapse collapse" aria-labelledby="headingRMSPHyperparams">
        <div class="accordion-body">
            <p>
                <strong>Learning Rate</strong>
                \[\alpha^\mathrm{[s]} = 1 \times 10^{-3}\]

                <strong>L2 Term</strong>
                \[\lambda^\mathrm{[s]} = 0\]

                <strong>Square Average Beta</strong> 
                \[\beta^\mathrm{[s]} = 0.999\]

                <strong>Momentum</strong>
                \[\mu^\mathrm{[s]} = 0\]

                <strong>Epsilon</strong>
                \[\epsilon^\mathrm{[s]} = 1 \times 10^{-8}\]
            </p>
        </div>
    </div>
</div>

<div class="accordion-item">
    <h2 class="accordion-header" id="headingRMSPInitialStates">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRMSPInitialStates" aria-expanded="true" aria-controls="collapseRMSPInitialStates">
            Initial States
        </button>
    </h2>
    <div id="collapseRMSPInitialStates" class="accordion-collapse collapse" aria-labelledby="headingRMSPInitialStates">
        <div class="accordion-body">
            <div class="accordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingRMSPInitialStatesCompacted">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRMSPInitialStatesCompacted" aria-expanded="true" aria-controls="collapseRMSPInitialStatesCompacted">
                            Compacted Notation
                        </button>
                    </h2>
                    <div id="collapseRMSPInitialStatesCompacted" class="accordion-collapse collapse" aria-labelledby="headingRMSPInitialStatesCompacted">
                        <div class="accordion-body">
                            <strong>Delta</strong>

                            \[\mathbf{\Delta_{P_\mathit{0}}^\mathrm{[l]}}
                            =
                            \mathbf{0}_{m \times n}\]
                            
                            <strong>Square Average</strong>
                            
                            \[\mathbf{\Omega_{P_\mathit{0}}^\mathrm{[l]}}
                            =
                            \mathbf{0}_{m \times n}\]
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingRMSPInitialStatesExpanded">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRMSPInitialStatesExpanded" aria-expanded="true" aria-controls="collapseRMSPInitialStatesExpanded">
                            Expanded Notation
                        </button>
                    </h2>
                    <div id="collapseRMSPInitialStatesExpanded" class="accordion-collapse collapse" aria-labelledby="headingRMSPInitialStatesExpanded">
                        <div class="accordion-body">
                            <strong>Delta</strong>

                            \[\mathbf{\Delta_{P_\mathit{0}}^\mathrm{[l]}}
                            =
                            \begin{bmatrix}
                            0 & \cdots & 0 \\
                            \vdots & \ddots & \vdots \\
                            0 & \cdots & 0
                            \end{bmatrix}\]
                            
                            <strong>Square Average</strong>
                            
                            \[\mathbf{\Omega_{P_\mathit{0}}^\mathrm{[l]}}
                            =
                            \begin{bmatrix}
                            0 & \cdots & 0 \\
                            \vdots & \ddots & \vdots \\
                            0 & \cdots & 0
                            \end{bmatrix}\]
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="accordion-item">
    <h2 class="accordion-header" id="headingRMSPVariables">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRMSPVariables" aria-expanded="true" aria-controls="collapseRMSPVariables">
            Variables
        </button>
    </h2>
    <div id="collapseRMSPVariables" class="accordion-collapse collapse" aria-labelledby="headingRMSPVariables">
        <div class="accordion-body">
            <div class="accordion" id="compactedNotationAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingRMSPVariablesCompacted">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRMSPVariablesCompacted" aria-expanded="true" aria-controls="collapseRMSPVariablesCompacted">
                            Compacted Notation
                        </button>
                    </h2>
                    <div id="collapseRMSPVariablesCompacted" class="accordion-collapse collapse" aria-labelledby="headingRMSPVariablesCompacted">
                        <div class="accordion-body">
                            <strong>Trainable Parameters</strong>
                            \[\mathbf{\Theta_P^\mathrm{[l]}}\]

                            <strong>Gradients</strong>
                            \[\nabla_{\mathbf{\Theta_P^\mathrm{[l]}}}\mathbf{L}\]
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingRMSPVariablesExpanded">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRMSPVariablesExpanded" aria-expanded="true" aria-controls="collapseRMSPVariablesExpanded">
                            Expanded Notation
                        </button>
                    </h2>
                    <div id="collapseRMSPVariablesExpanded" class="accordion-collapse collapse" aria-labelledby="headingRMSPVariablesExpanded">
                        <div class="accordion-body">
                            <strong>Trainable Parameters</strong>
                            \[\begin{bmatrix}
                            \theta_{\mathrm{p}_{0, 0}}^\mathrm{[l]} &
                            \cdots &
                            \theta_{\mathrm{p}_{0, n}}^\mathrm{[l]} \\
                            \vdots &
                            \ddots &
                            \vdots \\
                            \theta_{\mathrm{p}_{m, 0}}^\mathrm{[l]} &
                            \cdots &
                            \theta_{\mathrm{p}_{m, n}}^\mathrm{[l]} \\
                            \end{bmatrix}\]
                            
                            <strong>Gradients</strong>
                            \[
                            \begin{bmatrix}
                            \displaystyle \frac{\partial}{\partial \theta^{\mathrm{[l]}}_{\mathrm{p}_{0, 0}}}\mathbf{L} &
                            \cdots &
                            \displaystyle \frac{\partial}{\partial \theta^{\mathrm{[l]}}_{\mathrm{p}_{0, n}}}\mathbf{L} \\
                            \vdots &
                            \ddots &
                            \vdots \\
                            \displaystyle \frac{\partial}{\partial \theta^{\mathrm{[l]}}_{\mathrm{p}_{m, 0}}}\mathbf{L} &
                            \cdots &
                            \displaystyle \frac{\partial}{\partial \theta^{\mathrm{[l]}}_{\mathrm{p}_{m, n}}}\mathbf{L} \\
                            \end{bmatrix}
                            \]
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="accordion-item">
    <h2 class="accordion-header" id="headingRMSPMethod">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRMSPMethod" aria-expanded="true" aria-controls="collapseRMSPMethod">
            Method
        </button>
    </h2>
    <div id="collapseRMSPMethod" class="accordion-collapse collapse" aria-labelledby="headingRMSPMethod">
        <div class="accordion-body">
            <div id="RMSPMethodAccordion"></div>
        </div>
    </div>
</div>
